# Ambient Mode

Istio의 기존의 배포 형식은 sidecar 방식이다. sidecar 방식은 파드에 생성될때 워크로드와 함께 Injection 되는 방식으로 배포된다.

코드 자체에는 영향이 없겠지만, 해당 파드의 일정 리소스를 예약해야 해서 성능 문제 발생 가능. 그리고 업데이트 위해서는 파드 재배포 해야 한다.

앰비언트 메시는 노드 단위로 공유 리소스로 ztunnel이 제공된다. 따라서 파드와 완전 분리가 된다. Secure overlay로써 l4와 mtls 처리만 진행함.

만약 l7 처리를 원하는 네임스페이스에서는 하나 이상의 엔보이 기반 웨이포인트 프록시 처리한다. 특정 로컬 노드가 아닌 공유 네임스페이스 리소스에서 사용.

엔보이 기반 웨이포인트 프록시는 그냥 쿠버네티스 파드이기 때문에 동적 확장도 가능하다.

로컬 노드에서 수행되지 않음으로써 발생 가능한 네트워크 홉 지연은 거의 없고, L7 처리를 사이드카 기반에서는 2번 해야 하지만 L7은 한번만 하면 됨으로 속도는 차이 없다.